@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Canvas */
    --color-surface-primary: 250 250 250;
    --color-surface-secondary: 255 255 255;
    --color-surface-elevated: 255 255 255;

    /* Text */
    --color-text-primary: 26 26 26;
    --color-text-secondary: 107 114 128;
    --color-text-muted: 156 163 175;

    /* Accent */
    --color-accent: 245 158 11;
    --color-accent-light: 254 243 199;
    --color-accent-dark: 217 119 6;

    /* Semantic */
    --color-positive: 5 150 105;
    --color-positive-light: 209 250 229;
    --color-negative: 220 38 38;
    --color-negative-light: 254 226 226;
    --color-warning: 245 158 11;
    --color-warning-light: 254 243 199;
  }

  html {
    scroll-behavior: smooth;
    /* Prevent layout shift from scrollbar appearing/disappearing */
    overflow-y: scroll;
  }

  body {
    @apply min-h-screen;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-100 rounded;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded hover:bg-gray-400 transition-colors;
  }

  /* Focus styles */
  *:focus-visible {
    @apply outline-none ring-2 ring-accent ring-offset-2 ring-offset-white;
  }
}

@layer components {
  /* Card styles */
  .card {
    @apply bg-white rounded-xl border border-gray-200 shadow-card transition-all duration-200;
  }

  .card:hover {
    @apply shadow-elevated border-gray-300;
  }

  /* Button base */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg font-medium text-sm transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn bg-accent text-white hover:bg-accent-dark active:scale-[0.98] shadow-subtle;
  }

  .btn-secondary {
    @apply btn bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 hover:border-gray-400;
  }

  .btn-ghost {
    @apply btn text-gray-600 hover:bg-gray-100 hover:text-gray-900;
  }

  .btn-danger {
    @apply btn bg-negative text-white hover:bg-negative-dark;
  }

  .btn-success {
    @apply btn bg-positive text-white hover:bg-positive-dark;
  }

  /* Input styles */
  .input {
    @apply w-full px-4 py-3 rounded-lg border border-gray-300 bg-white text-gray-900 placeholder:text-gray-400 transition-all duration-200;
  }

  .input:focus {
    @apply border-accent ring-2 ring-accent/20;
  }

  .input:hover:not(:focus) {
    @apply border-gray-400;
  }

  /* Badge styles */
  .badge {
    @apply inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium;
  }

  .badge-high {
    @apply badge bg-negative-light text-negative-dark;
  }

  .badge-medium {
    @apply badge bg-warning-light text-amber-700;
  }

  .badge-low {
    @apply badge bg-blue-100 text-blue-700;
  }

  .badge-compliant {
    @apply badge bg-positive-light text-positive-dark;
  }

  /* Tab styles */
  .tab {
    @apply relative px-4 py-2.5 text-sm font-medium text-gray-600 hover:text-gray-900 transition-colors;
  }

  .tab-active {
    @apply tab text-accent;
  }

  .tab-indicator {
    @apply absolute bottom-0 left-0 right-0 h-0.5 bg-accent rounded-full;
  }

  /* File drop zone */
  .drop-zone {
    @apply relative border-2 border-dashed border-gray-300 rounded-xl p-8 text-center transition-all duration-200 cursor-pointer;
  }

  .drop-zone:hover {
    @apply border-accent bg-accent-light/30;
  }

  .drop-zone-active {
    @apply border-accent bg-accent-light/50 scale-[1.01];
  }

  /* Violation card */
  .violation-card {
    @apply card p-4 border-l-4 transition-all duration-200;
  }

  .violation-card-high {
    @apply violation-card border-l-negative;
  }

  .violation-card-medium {
    @apply violation-card border-l-warning;
  }

  .violation-card-low {
    @apply violation-card border-l-blue-500;
  }

  /* Section heading */
  .section-heading {
    @apply font-display text-2xl text-gray-900 mb-1;
  }

  .section-subheading {
    @apply text-gray-500 text-sm;
  }

  /* Tooltip */
  .tooltip {
    @apply absolute z-50 px-3 py-2 text-sm bg-gray-900 text-white rounded-lg shadow-elevated pointer-events-none;
  }

  /* Modal backdrop */
  .modal-backdrop {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-40;
  }

  .modal-content {
    @apply fixed inset-4 md:inset-auto md:top-1/2 md:left-1/2 md:-translate-x-1/2 md:-translate-y-1/2 bg-white rounded-2xl shadow-elevated z-50 max-h-[90vh] overflow-auto;
  }

  /* Loading spinner */
  .spinner {
    @apply w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin;
  }

  /* Prose-like content */
  .prose-custom h4 {
    @apply text-base font-semibold text-gray-900 mt-4 mb-2;
  }

  .prose-custom ul {
    @apply list-disc pl-5 space-y-1 text-sm text-gray-600;
  }

  .prose-custom strong {
    @apply font-semibold text-gray-800;
  }

  .prose-custom p {
    @apply text-sm text-gray-600 leading-relaxed;
  }
}

@layer utilities {
  /* Animation delays */
  .animation-delay-100 { animation-delay: 100ms; }
  .animation-delay-200 { animation-delay: 200ms; }
  .animation-delay-300 { animation-delay: 300ms; }
  .animation-delay-400 { animation-delay: 400ms; }
  .animation-delay-500 { animation-delay: 500ms; }

  /* Gradient text */
  .text-gradient {
    @apply bg-gradient-to-r from-accent via-amber-500 to-accent-dark bg-clip-text text-transparent;
  }
}
